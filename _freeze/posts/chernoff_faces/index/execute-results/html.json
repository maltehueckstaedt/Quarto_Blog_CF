{
  "hash": "c4e86eb31981743f92651b77612eb3d0",
  "result": {
    "markdown": "---\ntitle: \"Chernoff Faces\"\nauthor: \"Malte Hückstädt\"\ndate: \"2023-03-29\"\ncategories: [R, data visualization, data exploration, analysis]\nimage: \"image.jpg\"\nbibliography: Bibliothek.bib\n---\n\n\n# Introduction\n\nThe *Chernoff-Faces* [@chernoff1973use] developed by Herman Chernoff (* 1 July 1923) are a method of multivariate data visualisation. Within the framework of data visualisation using Chernoff Faces, the physiognomy of a cartoon-like simplified human face (e.g. size of the ears, shape of the mouth, inclination of the eyebrows, size of the nose, etc.) is shaped according to the characteristic values of a object. As a result, each row vector of a data set receives a Chernoff face structured according to its combination of column vector values. By means of the Chernoff faces, which may vary depending on the values on the column vectors, the feature profiles of the row vectors can now be compared with each other. A distinctive strength of the Chernoff Faces visualisation method is that it uses the human ability to register even small divergences or convergences in the physiognomy of human (or human-like) faces. Since the physiognomy of the Chernoff Faces is in a sense *short-circuited* with the feature expressions of the respective feature carriers, the method of the Chernoff Faces allows similarity or dissimilarity structures of different feature profiles of line vectors to be explored easily and intuitively.\n\nThe application of Chernoff Faces becomes problematic with data sets [cf. @livingstone2009practical] with a very large number of row vectors: Of course, twenty faces are easier to distinguish than two hundred.\n\n# Data\n\nThe data set used for illustration purposes in the following shows the following variables for all professors at German public art colleges in the field of fine arts (and related subjects):\n\n- national and international ranking position of the artist rankings ([Artfacts](https://artfacts.net/))\n- age\n- gender\n\nStatistical profiles can now be generated in these aforementioned dimensions for German, all public art colleges, which in turn can be visualised and explored using the Chernoff Faces. For this purpose, the following simple key figures are to be calculated for each art academy:\n\n 1. mean value of the global ranking of all professors of an art academy\n 2. mean value of the national ranking of all professors of an art academy\n 3. number of professors per art academy in total\n 4. number of female professors per art academy\n 5. number of male professors per art academy\n 6. average age of all professors per art academy\n\n## Data processing\n\nIn a first step, the data set described above is loaded into the working environment for data preparation using the *tidyverse* packages [@tidyverse2017]. This is done here using the `read_excel()` function of the *readxl* package [@readxl2019].\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\n# Load data set\nlibrary(readxl)\ndf <- read_excel(\"./Fine_Artfacts_Kunsthochschulen.xlsx\")\n```\n:::\n\n\nWithin the framework of the data collection of the ranking positions, it was easy to determine a global ranking position for almost all professors. The collection of the national ranking position, which at the beginning of 2019 was still based on the birthplace of the respective artist, is more complicated. In order not to reduce the information content of the data during the survey, a new column vector was created for each nationality, which contains the respective national ranking position:\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\nhead(df[,14:36])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 23\n  Rank_Germany Rank_USA Rank_F…¹ Rank_…² Rank_…³ Rank_…⁴ Rank_…⁵ Rank_…⁶ Rank_…⁷\n         <dbl>    <dbl>    <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n1            7       NA       NA      NA      NA      NA      NA      NA      NA\n2           24       NA       NA      NA      NA      NA      NA      NA      NA\n3           33       NA       NA      NA      NA      NA      NA      NA      NA\n4           34       NA       NA      NA      NA      NA      NA      NA      NA\n5           40       NA       NA      NA      NA      NA      NA      NA      NA\n6           NA       NA       NA      NA      NA      NA      NA       8      NA\n# … with 14 more variables: Rank_Sweden <dbl>, `Rank_South Africa` <dbl>,\n#   Rank_Norway <dbl>, Rank_Finland <dbl>, Rank_Switzerland <dbl>,\n#   `Rank_New Zealand` <dbl>, Rank_Mexico <dbl>, Rank_Japan <dbl>,\n#   Rank_Australia <dbl>, Rank_Israel <dbl>, Rank_Poland <dbl>,\n#   Rank_Canada <dbl>, `Rank_Korea (Republic of)` <dbl>, Rank_Iran <dbl>, and\n#   abbreviated variable names ¹​Rank_France, ²​Rank_Netherlands, ³​Rank_Austria,\n#   ⁴​Rank_Turkey, ⁵​`Rank_United Kingdom`, ⁶​Rank_Italy, ⁷​Rank_Romania\n# ℹ Use `colnames()` to see all variable names\n```\n:::\n:::\n\n\nFor the following analyses, these column vectors must be combined into a single vector, which should be named `Rank_Natio`:\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\n#Set NA to \"\" and join columns together\nlibrary(tidyverse)\ncolnames(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Name\"                     \"Media\"                   \n [3] \"Gender\"                   \"Nationalitaet\"           \n [5] \"Alter\"                    \"Lives_Works\"             \n [7] \"Most_Exibit_in_1\"         \"Most_Exibit_in_2\"        \n [9] \"Most_Exibit_in_3\"         \"Kunsthochschule\"         \n[11] \"Fachbereich\"              \"Death\"                   \n[13] \"Rank_Global\"              \"Rank_Germany\"            \n[15] \"Rank_USA\"                 \"Rank_France\"             \n[17] \"Rank_Netherlands\"         \"Rank_Austria\"            \n[19] \"Rank_Turkey\"              \"Rank_United Kingdom\"     \n[21] \"Rank_Italy\"               \"Rank_Romania\"            \n[23] \"Rank_Sweden\"              \"Rank_South Africa\"       \n[25] \"Rank_Norway\"              \"Rank_Finland\"            \n[27] \"Rank_Switzerland\"         \"Rank_New Zealand\"        \n[29] \"Rank_Mexico\"              \"Rank_Japan\"              \n[31] \"Rank_Australia\"           \"Rank_Israel\"             \n[33] \"Rank_Poland\"              \"Rank_Canada\"             \n[35] \"Rank_Korea (Republic of)\" \"Rank_Iran\"               \n[37] \"Studienfach\"              \"Studienort\"              \n[39] \"Studium_bei\"             \n```\n:::\n\n```{.r .cell-code}\ndf <- df %>% mutate_if(is.numeric,as.character) %>% replace(., is.na(.), \"\") %>% unite(\"Rank_Natio\", c(14:36))\n\n\n# Remove underscore caused by the unite_function.\ndf$Rank_Natio <- str_replace_all(df$Rank_Natio, \"(_+)\", \"\") #Convert \"_\" (or more) into \"\"\n\n#replace empty string cells with NA data frame-wide\ndf <- mutate_all(df, funs(na_if(.,\"\")))\n```\n:::\n\n\nFurthermore, the ranking variables were loaded into the working environment as string variables; for the sake of simplicity, these are converted individually into numeric variables:\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\n#colnames(df)\ndf$Rank_Global <- as.numeric(df$Rank_Global)\ndf$Rank_Natio <- as.numeric(df$Rank_Natio)\ndf$Kunsthochschule <- as.factor(df$Kunsthochschule)\n```\n:::\n\n\nIn the following, aggregated variables are created at the art college level. These are, as already described above:\n\n1. mean value of the global ranking of all professors of an art academy\n2. mean value of the national ranking of all professors of an art academy\n3. number of professors per art academy in total\n4. number of female professors per art academy\n5. number of male professors per art academy\n6. average age of all professors per art academy\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\n# Create aggregated variables at college level\n\n# Ranking average values per art college\nRank <- df %>% group_by(Kunsthochschule) %>% mutate(Mean_Nat_Rank= mean(Rank_Natio,na.rm = T)) %>% mutate(Mean_Global_Rank = mean(Rank_Global, na.rm = T)) %>%\n  summarize(Sum_Nat = round(mean(Mean_Nat_Rank),2), Sum_Glob = round(mean(Mean_Global_Rank),2))\n\n# Number of professors per art college\nProfs <- df %>% group_by(Kunsthochschule) %>% summarise (n_Profs = n())\n\n# Number of men/women per art college\nGender <- df %>% group_by(Kunsthochschule) %>%\n  summarise(n_Frau = sum(Gender == \"F\"), n_Mann = sum(Gender == \"M\"))\n\n# Mean_age per art college\ndf$Alter <- as.numeric(df$Alter)\ndf$Alter <- 2019-df$Alter\n\nAlter <- df %>% group_by(Kunsthochschule) %>% mutate(Mean_Alter= mean(Alter,na.rm = T))  %>%  \n  summarize(Mean_Alter_Sum = round(mean(Mean_Alter),2))   \n\n# Data merging:\ndf1 <- merge(Rank,Profs, by=\"Kunsthochschule\")\ndf2 <- merge(df1,Gender, by=\"Kunsthochschule\")\nArtFac <- merge(df2,Alter, by=\"Kunsthochschule\")\n\n# Remove all data frames except ArtFac + df\nrm(list=setdiff(ls(), c(\"ArtFac\", \"df\")))\n```\n:::\n\nFinally, all rows with one or more missings on the column vectors are filtered out of the data frame. In addition, in order to make the Chernoff-Faces plot to be generated clearer, the names of the art colleges are replaced by acronyms and specified as `rownames`.\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\n# colnames(ArtFac)\n# filter out NA row\nArtFac <- ArtFac %>%  filter(!is.na(Sum_Nat))\n\n# Columns in rownames\nArtFac <- ArtFac %>% remove_rownames %>% column_to_rownames(var=\"Kunsthochschule\")\n\n#rownames(ArtFac)\n# Change the names of the KHs to make the Faces plot clearer.\nrownames(ArtFac)[1]<-\"AdBK M\"\nrownames(ArtFac)[2]<-\"BU WE\"\nrownames(ArtFac)[3]<-\"KH HAL\"\nrownames(ArtFac)[4]<-\"HBK BS\"\nrownames(ArtFac)[5]<-\"HfBK DD\"\nrownames(ArtFac)[6]<-\"HfBK HH\"\nrownames(ArtFac)[7]<-\"HFK HB\"\nrownames(ArtFac)[8]<-\"HdBK SB\"\nrownames(ArtFac)[9]<-\"HfG OF\"\nrownames(ArtFac)[10]<-\"KA D\"\n\nrownames(ArtFac)[11]<-\"KA MS\"\nrownames(ArtFac)[12]<-\"KHB B\"\nrownames(ArtFac)[13]<-\"KfM K\"\nrownames(ArtFac)[14]<-\"KH KS\"\nrownames(ArtFac)[15]<-\"KH KI\"\nrownames(ArtFac)[16]<-\"KH L\"\nrownames(ArtFac)[17]<-\"KH MZ\"\nrownames(ArtFac)[18]<-\"KH N\"\nrownames(ArtFac)[19]<-\"AdK KA\"\nrownames(ArtFac)[20]<-\"AdK S\"\nrownames(ArtFac)[21]<-\"HfBK FaM\"\nrownames(ArtFac)[22]<-\"UdK Berlin\"\n```\n:::\n\n\nThe finished dataframe finally takes the following form:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(knitr)\nArtFac %>%\n  kable(format = 'markdown')\n```\n\n::: {.cell-output-display}\n|           | Sum_Nat| Sum_Glob| n_Profs| n_Frau| n_Mann| Mean_Alter_Sum|\n|:----------|-------:|--------:|-------:|------:|------:|--------------:|\n|AdBK M     |  509.13|  3845.47|      17|      6|     11|          58.76|\n|BU WE      |  359.50|  2327.00|       4|      3|      1|          49.50|\n|KH HAL     | 2223.50| 18192.20|      14|      6|      8|          54.36|\n|HBK BS     |  747.67|  8430.00|      13|      5|      8|          58.92|\n|HfBK DD    |  949.25|  7841.25|      12|      3|      9|          59.25|\n|HfBK HH    |  251.27|  3525.25|      16|      8|      8|          51.94|\n|HFK HB     | 1132.11|  9973.33|       9|      4|      5|          54.89|\n|HdBK SB    |  853.25| 32832.40|       5|      2|      3|          56.80|\n|HfG OF     | 1413.80| 11350.00|       5|      2|      3|          53.20|\n|KA D       |  584.21|  6600.47|      19|      8|     11|          54.32|\n|KA MS      | 1161.23| 12924.08|      13|      4|      9|          55.08|\n|KHB B      |  624.50| 10828.83|       6|      3|      3|          56.50|\n|KfM K      |  768.67| 17749.57|       8|      2|      5|          58.14|\n|KH KS      |  599.60|  4157.80|       6|      1|      5|          51.00|\n|KH KI      | 1420.25| 36768.60|       6|      3|      3|          62.00|\n|KH L       | 1359.82| 16067.94|      18|      6|     12|          54.29|\n|KH MZ      | 1080.70|  7809.40|      11|      6|      5|          55.55|\n|KH N       | 2367.22| 27328.20|      10|      4|      6|          52.10|\n|AdK KA     |  444.64|  3176.14|      14|      6|      8|          55.86|\n|AdK S      | 1842.19| 13372.31|      16|      5|     11|          58.25|\n|HfBK FaM   |   72.00|   604.57|       8|      3|      5|          49.50|\n|UdK Berlin |  596.65| 14717.55|      22|     12|     10|          54.70|\n:::\n:::\n\n\nThe lower the value of a ranking profile, the better the professors of the respective art academy are ranked on average.\n\n# Chernoff faces\n\nThe `faces()` function of the package *aplpack* [@apl2017] automatically generates an overview of which variables were assigned to which facial regions of the Chernoff Faces.  It becomes clear that because only six variables were specified, the same variables were used for the remaining facial features to be modelled. The colouring of the faces is done as follows: \"*For painting elements of a face the colors of are found by averaging of sets of variables: (7,8)- eyes:iris, (1,2,3)-lips, (14,15)-ears, (12,13)-nose, (9,10,11)-hair, (1,2)-face* [@apl2017,9].\"\n\nLooking at the profiles of the rankings of German art college professors, it becomes clear that the reputation poles of the art colleges are characterised by two extremes: The plus pole of reputation is formed by the professors of the HfBK Frankfurt am Main (HfBK FaM), the minus pole by the KH Halle (KH HAL). The smaller a Chernoff Face, the closer the profile of the respective art academy approaches the positive pole of reputation, and, vice versa, the larger a Chernoff Face, the closer the profile of the respective art academy approaches the negative pole of reputation. Similarly intuitively, the other four variables can now be compared simultaneously across the different profiles of the art colleges.\n\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\nlibrary(aplpack)\nfaces(ArtFac[1:22,],face.type=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=864}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\neffect of variables:\n modified item       Var             \n \"height of face   \" \"Sum_Nat\"       \n \"width of face    \" \"Sum_Glob\"      \n \"structure of face\" \"n_Profs\"       \n \"height of mouth  \" \"n_Frau\"        \n \"width of mouth   \" \"n_Mann\"        \n \"smiling          \" \"Mean_Alter_Sum\"\n \"height of eyes   \" \"Sum_Nat\"       \n \"width of eyes    \" \"Sum_Glob\"      \n \"height of hair   \" \"n_Profs\"       \n \"width of hair   \"  \"n_Frau\"        \n \"style of hair   \"  \"n_Mann\"        \n \"height of nose  \"  \"Mean_Alter_Sum\"\n \"width of nose   \"  \"Sum_Nat\"       \n \"width of ear    \"  \"Sum_Glob\"      \n \"height of ear   \"  \"n_Profs\"       \n```\n:::\n:::\n\n\n# Further analysis\n\nIn order to get a more detailed look at the reputation structure of the profiles of the art academies, boxplots are generated using the package *ggplot2* [@ggplot2016] to differentiate the national and international ranking profile of the art academies according to gender.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(stringr)\ncolnames(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Name\"             \"Media\"            \"Gender\"           \"Nationalitaet\"   \n [5] \"Alter\"            \"Lives_Works\"      \"Most_Exibit_in_1\" \"Most_Exibit_in_2\"\n [9] \"Most_Exibit_in_3\" \"Kunsthochschule\"  \"Fachbereich\"      \"Death\"           \n[13] \"Rank_Global\"      \"Rank_Natio\"       \"Studienfach\"      \"Studienort\"      \n[17] \"Studium_bei\"     \n```\n:::\n\n```{.r .cell-code}\ndf$KH_Name_Short <- df$Kunsthochschule\n\ndf$KH_Name_Short <- df$KH_Name_Short %>%\n        str_replace(\"Akademie der Bildenden Künste München\",\"AdBK M\") %>%    \n        str_replace(\"Bauhaus-Universität Weimar\",\"BU WE\") %>%\n        str_replace(\"Burg Giebichenstein Kunsthochschule Halle\",\"KH HAL\") %>%\n        str_replace(\"HBK Braunschweig\",\"HBK BS\") %>%\n        str_replace(\"HfBK Dresden\",\"HfBK DD\") %>%  \n\n        str_replace(\"HfbK Hamburg\",\"HfBK HH\") %>%\n        str_replace(\"HFK Bremen\",\"HFK HB\") %>%\n        str_replace(\"Hochschule der Bildenden Künste Saar\", \"HdBK SB\") %>%\n        str_replace(\"Hochschule für Gestaltung Offenbach\", \"HfG OF\") %>%\n        str_replace(\"Kunstakademie Düsseldorf\",\"KA D\") %>%\n\n        str_replace(\"Kunstakademie Münster\",\"KA MS\") %>%\n        str_replace(\"Kunsthochschule Berlin Weißensee\",\"KHB B\") %>%\n        str_replace(\"Kunsthochschule für Medien Köln\",\"KfM K\") %>%\n        str_replace(\"Kunsthochschule Kassel\",\"KH KS\") %>%\n        str_replace(\"Kunsthochschule Kiel\",\"KH KI\") %>%\n\n        str_replace(\" \\\\(.*\\\\)\", \"\")  %>% # einzelnd Klammern entfernen, sonst funktioniert str_replace bei  HfBK FaM nicht\n\n        str_replace(\"Kunsthochschule Leipzig\",\"KH L\") %>%\n        str_replace(\"Kunsthochschule Mainz\",\"KH MZ\") %>%\n        str_replace(\"Kunsthochschule Nürnberg\",\"KH N\") %>%\n        str_replace(\"Staatliche Akademie der Bildenden Künste Karlsruhe\",\"AdK KA\") %>%\n        str_replace(\"Staatliche Akademie der Bildenden Künste Stuttgart\",\"AdK S\") %>%\n        str_replace(\"Staatliche Hochschule für Bildende Künste Frankfurt am Main\",\"HfBK FaM\") %>%\n        str_replace(\"UdK Berlin\",\"UdK B\")\n\n#Gender dichothomisieren:\ndf$Gender <- df$Gender %>%\n        str_replace(\"M, F\",\"F\")  \n\n df_gg <- df %>% select(Gender,KH_Name_Short,Rank_Global,Rank_Natio) %>% na.omit()\n\n#Rank Global über Khs und Geschlecht\nggplot(df_gg, aes(x=factor(KH_Name_Short), y=Rank_Global, fill=factor(Gender)) ) +\n  #geom_point(size=2, alpha=.6,aes(colour=factor(Gender)))+\n  geom_jitter(size=2, alpha=.6,aes(colour=factor(Gender))) +\n  geom_boxplot(alpha = 0.5, show.legend = FALSE)+\n  theme(axis.text.x = element_text(angle=45, hjust=1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#Rank National über Khs und Geschlecht\nggplot(df_gg, aes(x=factor(KH_Name_Short), y=Rank_Natio, fill=factor(Gender)) ) +\n  #geom_point(size=2, alpha=.6,aes(colour=factor(Gender)))+\n  geom_jitter(size=2, alpha=.6,aes(colour=factor(Gender))) +\n  geom_boxplot(alpha = 0.5, show.legend = FALSE)+\n  theme(axis.text.x = element_text(angle=45, hjust=1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n\nThe national and international ranking profiles of the art academies do not show any clear gender differences.\n\n# References\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}