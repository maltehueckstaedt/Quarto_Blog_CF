---
title: "Analyse Web of Science-Data with R"
author: "Malte Hückstädt"
date: "2023-05-01"
categories: [R, bibliometrics, data analysis, network analysis]
bibliography: references.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
```

# Web of Science

Web of Science is a bibliographic database created and operated by Clarivate Analytics. It covers scientific literature from a wide range of subject areas, including natural sciences, social sciences, technology and medicine. The database contains bibliographic information on articles, conference papers, books and other forms of publication.

Web of Science indexes a large number of scientific journals and publications, which are selected according to a variety of criteria, such as impact factor, journal history and the scientific quality of the articles. This ensures that the publications included in the database are of high quality and considered relevant by a wide range of scientists.

One of the main features of Web of Science is the ability to search for scientific articles published on a specific topic. The search can be carried out in various ways, for example by entering keywords or by restricting the search to specific authors, journals or subject areas. The search results are then displayed in a list of articles containing relevant bibliographic information, such as author, title, journal, year of publication and the number of citations the article has received.

Web of Science also enables the analysis of trends in research through the use of citation data. With the help of the database, researchers can, for example, identify the most frequently cited articles on a particular topic or track the development of research over time. In addition, they can use citation data to measure the scientific impact of their own work.

To access Web of Science, you usually need an access authorisation provided by your institution or employer. Web of Science is a paid database operated by Clarivate Analytics.

You will usually receive an access authorisation from your institution, which you can access via a link or website to log in. Alternatively, you can connect to the network via your institution's VPN client to access the database.

If you have difficulties accessing the database, you should contact your institution's support for further information and assistance.

# Aim of the analysis

I would like to use Web of Science to compare the publication behaviour of two DFG clusters of excellence: That of [EXC 1086](https://gepris.dfg.de/gepris/projekt/194657344) and that of [EXC 115](https://gepris.dfg.de/gepris/projekt/24286296).

# Data collection

To download the publication data of the two clusters, visit the [basis search mask of Web of Science](https://www.webofscience.com/wos/woscc/basic-search). Wir möchten nun Informationen zu allen Publikationen sammeln und downloaden, die in ihren Angaben zu dem dem Beitrag zugrundeliegenden Fundings das [EXC 1086](https://gepris.dfg.de/gepris/projekt/194657344) oder das [EXC 115](https://gepris.dfg.de/gepris/projekt/24286296) genannt haben. Hierzu klicken wir auf auf `advanced search` .

![](images/image1.png){fig-align="center"}

The Advanced Search function is a useful tool that helps you achieve more targeted search results. To use this function, enter your search terms in the appropriate fields, e.g. title, author, keywords or publication year. You can also use Boolean operators such as "AND", "OR" and "NOT" to refine your search and combine or exclude multiple search terms. By using these operators, you can achieve more precise results.

In our case we will use the following field tags :

-   FO=Funding Agency

-   FG=Grant Number

-   FD=Funding Details

-   FT=Funding Text

Accordingly, we enter the following queries in the Query Preview field one after the other:

1.  `FO=(EXC 1086) OR FG=(EXC 1086) OR FD=(EXC 1086) OR FT=(EXC 1086)`

2.  `FO=(EXC 115) OR FG=(EXC 115) OR FD=(EXC 115) OR FT=(EXC 115)`

![](images/image2.png){fig-align="center"}

After clicking on the search button at the bottom right, we arrive at the results page. There we click on *Export* in the upper middle, select the export format BibTeX and choose the following export configuration:

![](images/image3.png){fig-align="center" width="439"}

We save the corresponding file in our working environment under `EXC_115.bib` and repeat the whole procedure for EXC 1086. Viola! We are done with the data collection!

# Data Analysis

## The bibliometrix-Package

Bibliometrix is an R package specifically designed for the bibliometric analysis of scientific publications. The package offers a variety of functions that allow you to perform complex analyses to identify trends in research, recognise the most important authors and journals or visualise networks of co-authors or citations.

Bibliometrix offers a comprehensive data import function that allows you to retrieve data from various sources such as Web of Science, Scopus or PubMed and import them into R.

Bibliometrix features include analysing publication production, identifying key authors and works cited, analysing citation networks, performing co-author and co-citation analyses, identifying thematic clusters and much more.

Bibliometrix is a powerful bibliometrics package that offers a wealth of features to perform complex analyses and visualise research results. It is a valuable tool for librarians, scientists and researchers interested in the bibliometric analysis of scientific publications.

## Analysis

We start with the analysis of EXC 1086. We load the package bibliometrix and pass the file `EXC_1086.bib` to the function `convert2df()`. The function supports various data formats such as BibTeX, RIS and ISI web-of-science files and can automatically convert them into a structured R data frame. The function also allows you to select only certain variables or fields from the source files and import them into the R data frame.[^1]

[^1]: Since our Bibfiles do not contain information on cited references, the warning `Missing fields: CR` is issued.

```{r bib , message=FALSE, warning=FALSE}
library(bibliometrix) 
file <- "./data/EXC_1086.bib"
EXC_1086 <- convert2df(file = file, format = "bibtex")
file <- "./data/EXC_115.bib"
EXC_115 <- convert2df(file = file, format = "bibtex")
```

### EXC 1086

The resulting dataframe contains 384 publications and rows and 59 columns. For an overview of the meaning of the columns, the following PDF is useful: https://www.bibliometrix.org/documents/Field_Tags_bibliometrix.pdf

```{r}

library(igraph)

# Extract authors from the "AU" column
authors <- strsplit(as.character(EXC_1086$AU), ";")

# Extract unique authors
all_authors <- unique(unlist(authors))

# Create edge list
edges <- data.frame(from = character(), to = character(), stringsAsFactors = FALSE)

for (i in 1:length(authors)) {
  if (length(authors[[i]]) > 1) {
    pairs <- t(combn(authors[[i]], 2))
    edge_data <- data.frame(from = pairs[, 1], to = pairs[, 2], stringsAsFactors = FALSE)
    edges <- rbind(edges, edge_data)
  }
}

# Create network graph
G_EXC_1086 <- graph_from_data_frame(edges, directed = FALSE)

library(GGally)
simple <- simplify(G_EXC_1086)
g_1086 <-  ggnet2(simple, 
       mode = "fruchtermanreingold",  
       node.size = 1,
       node.color = "red", 
       node.alpha = .3,
       size = 30,
       edge.size = .1, 
       edge.color = "grey")+
  ggtitle("EXC 1086")

```

### EXC 115

The resulting dataframe contains 263 publications and rows and 56 columns. For an overview of the meaning of the columns, the following PDF is useful: https://www.bibliometrix.org/documents/Field_Tags_bibliometrix.pdf

```{r fig.align = 'center'}

library(igraph)

# Extract authors from the "AU" column
authors <- strsplit(as.character(EXC_115$AU), ";")

# Extract unique authors
all_authors <- unique(unlist(authors))

# Create edge list
edges <- data.frame(from = character(), to = character(), stringsAsFactors = FALSE)

for (i in 1:length(authors)) {
  if (length(authors[[i]]) > 1) {
    pairs <- t(combn(authors[[i]], 2))
    edge_data <- data.frame(from = pairs[, 1], to = pairs[, 2], stringsAsFactors = FALSE)
    edges <- rbind(edges, edge_data)
  }
}

# Create network graph
G_EXC_115 <- graph_from_data_frame(edges, directed = FALSE)

simple <- simplify(G_EXC_115)
g_115 <-  ggnet2(simple, 
       mode = "fruchtermanreingold",  
       node.size = 1,
       node.color = "blue", 
       node.alpha = .3,
       size = 30,
       edge.size = .1, 
       edge.color = "grey")+
  ggtitle("EXC 115")

```

### Networkgraph

```{r}
library(cowplot)
plot_grid(g_115, g_1086, ncol = 2)
```

### Größe und Dichte der Netzwerke

```{r}

results <- biblioAnalysis(EXC_1086, sep = ";")
S <- summary(object = results, k = 10, pause = FALSE)

results <- biblioAnalysis(EXC_115, sep = ";")
SS <- summary(object = results, k = 10, pause = FALSE)

library(kableExtra)
library(tidyverse)

right_join(S$MainInformationDF,SS$MainInformationDF,"Description") %>% kable()

S$MainInformationDF

vcount(G_EXC_1086)
vcount(G_EXC_115) 

# Berechnen Sie die Größe und Dichte der Netzwerke
G_EXC_1086_size <- vcount(G_EXC_1086)
G_EXC_1086_density <- edge_density(G_EXC_1086)

G_EXC_115_size <- vcount(G_EXC_115)
G_EXC_115_density <- edge_density(G_EXC_115)

# Fassen Sie die Ergebnisse in einem Dataframe zusammen
comparison_table <- data.frame(network = c("Network 1", "Network 2"),
                               size = c(G_EXC_1086_size, G_EXC_115_size),
                               density = c(G_EXC_1086_density, G_EXC_115_density))

# Zeigen Sie die Vergleichstabelle an
comparison_table

```

1.  Vergleich der Größe und Dichte der Netzwerke: Sie können die Anzahl der Knoten (Autoren) und Kanten (Koautorschaften) in den beiden Netzwerken vergleichen, um zu sehen, wie groß und dicht sie sind.

2.  Vergleich der zentralen Knoten: Sie können die zentralen Knoten (Autoren) in beiden Netzwerken identifizieren und vergleichen, um zu sehen, ob es Überschneidungen gibt oder ob bestimmte Autoren in einem Netzwerk zentraler sind als im anderen.

3.  Vergleich der Clusterstruktur: Sie können die Clusterstruktur in beiden Netzwerken untersuchen und vergleichen, um zu sehen, ob es Unterschiede gibt. Dazu können Sie z.B. die Gemeinschaftsstruktur mit Methoden wie modularity oder Walktrap analysieren.

4.  Vergleich der Netzwerkmetriken: Sie können verschiedene Netzwerkmetriken wie Degree-Zentralität, Closeness-Zentralität oder Betweenness-Zentralität berechnen und vergleichen, um zu sehen, ob es Unterschiede zwischen den beiden Netzwerken gibt.

5.  Vergleich der Koautorschaftsbeziehungen: Sie können die Koautorschaftsbeziehungen in beiden Netzwerken vergleichen, um zu sehen, ob bestimmte Autoren in einem Netzwerk häufiger zusammenarbeiten als im anderen.
